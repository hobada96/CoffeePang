import {useDispatch} from "react-redux";import {useState} from "react";import {addGoods} from "../../coffeeRedux";import Link from 'next/link';import Button from '@material-ui/core/Button';import fire from "../../config/fire-config";const coffeeConfig = {    id: 3, // 인덱스 처리를 어떻게 할 것인가?    seller: '박희찬',    coffeeName: "코피루왘",    price: "1000000",    weight: 500,    description: '커피 똥 커피',    img : "/coffeeImg.jpg",}const CoffeeRegestration = () => {    const dispatch = useDispatch();    const [coffee, setCoffee] = useState(coffeeConfig);    const [image, setImg] = useState(null);    const setCoffeeName = (e) => {        coffeeConfig.coffeeName = e.target.value;        setCoffee(coffeeConfig);    }    const setCoffeePrice = (e) => {        coffeeConfig.price = e.target.value;        setCoffee(coffeeConfig);    }    const setCoffeeWeight = (e) => {        coffeeConfig.weight = e.target.value;        setCoffee(coffeeConfig);    }    const setCoffeeDescription = (e) => {        coffeeConfig.description = e.target.value;        setCoffee(coffeeConfig);    }    const setCoffeeImg = (e) => {        setImg(e.target.files[0]);    }    const coffeeEnrollment = (e) => {       const storage = fire.storage();        const uploadTask = storage.ref(`images/${coffeeConfig.id}/${image.name}`).put(image);        uploadTask.on(            "state_changed",            snapshot => {},            error => {                console.log(error);            },            ()=>{                storage                    .ref("images")                    .child(`${coffeeConfig.id}/${image.name}`)                    .getDownloadURL()                    .then( url => {                            console.log(url);                        }                    )            }        )       dispatch(addGoods(coffee))    }    return (        <>            <h1>커피등록</h1>            <input placeholder={"커피이름"} onChange={setCoffeeName} />            <input placeholder={"가격"} onChange={setCoffeePrice} />            <input placeholder={"무게"} onChange={setCoffeeWeight} />            <input placeholder={"자세한 설명"} onChange={setCoffeeDescription} />            <input placeholder={"파일등록"} type='file' onChange={setCoffeeImg}/>            <br/>            <Button variant={"contained"}                    color={"secondary"}                    children={"등록"}                    onClick={coffeeEnrollment} />            <Link href={'/'}>                <Button variant={"contained"}                        color={"secondary"}                        children={"홈으로"} />            </Link>        </>    )}export default CoffeeRegestration;