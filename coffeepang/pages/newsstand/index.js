import Image from 'next/image'import React, {useEffect, useState} from 'react';import {useSelector} from "react-redux";import Link from "next/link";import {Box, Container, FormControl, GridList, GridListTile, InputLabel, MenuItem, Select} from "@material-ui/core";import {makeStyles} from "@material-ui/core/styles";import fire from "../../config/fire-config";import axios from "axios";import {loadGetInitialProps} from "next/dist/next-server/lib/utils";const useStyles = makeStyles((theme) => ({    coffeeBox: {        display: 'flex',        flexWrap: 'wrap',        justifyContent: 'space-around',        overflow: 'hidden',        backgroundColor: theme.palette.background.paper,    },    gridList: {        width: 500,        height: 450,    },    icon: {        color: 'rgba(255, 255, 255, 0.54)',    },}));const getCoffees = async () => {    const coffees = await        fire.firestore()            .collection("COFFEE")            .get()            .then((querySnapshot) =>            {                querySnapshot.forEach((doc)=>{                    console.log(doc.id, " => ", doc.data());                });            })            .catch((error) => {                console.log("Error getting documents: ", error);            });}const index = () => {    const classes = useStyles();    const coffees = useSelector(state => state);    const [viewCount, setViewCount] = useState(60);    useEffect(() => {        getCoffees();    })    return (        <>            <div>                <div className={"search"}>                    <input placeholder={"검색"}></input>                </div>                <div>                    <div className={"sort"}>                        랭킹순 낮은가격순 높은 가격순 판매량순 최신순                    </div>                    <FormControl className={""}>                        <Select value={viewCount}>                            <MenuItem value={60} onClick={() => setViewCount(60)}> 60개씩 보기</MenuItem>                            <MenuItem value={120} onClick={() => setViewCount(120)}>120개씩 보기</MenuItem>                        </Select>                    </FormControl>                </div>            </div>            <div>                <div className={classes.coffeeBox}>                    <GridList cellHeight={160} cols={5}>                        {coffees.map(coffee => (                                <GridListTile key={coffee.id} cols={1}>                                    <Link                                        as={`/newsstand/${coffee.id}`}                                        href={{                                            pathname: "/newsstand/[id]",                                            query: {coffee: JSON.stringify(coffee)}                                        }}                                    >                                        <div>                                            <a>{coffee.coffeeName}</a>                                            <Image src={coffee.img}                                                   width={200}                                                   height={200}>                                            </Image>                                        </div>                                    </Link>                                </GridListTile>                            )                        )}                    </GridList>                </div>            </div>        </>    )}// index.getInitialProps = async (ctx) => {//     const coffees = await//         fire.firestore()//             .collection("coffee")//             .get()//     coffees.forEach((coffee) => console.log(coffee));//     return {coffees: coffees}// }export default index;